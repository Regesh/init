/* created by Regev Mano */
"use strict";function _classCallCheck(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,i){for(var t=0;t<i.length;t++){var e=i[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(i,t,e){return t&&n(i.prototype,t),e&&n(i,e),i}}(),instance=null,Init=function(){function Init(n){return _classCallCheck(this,Init),instance||(instance=this),this.time=new Date,this.initFuncs=n,this.width=window.innerWidth,this.height=window.innerHeight,this.small=0,this.medium=0,this.large=0,this.currentMedia="no sizes found, please init them using : setSizes method",this.mode=this.width>this.height?"land":"port",this.funcs=[],window.addEventListener("resize",this.onResize),this.init(),instance}return _createClass(Init,[{key:"register",value:function(n,i,t){this.funcs.push({funcName:n,size:i,orientation:t}),this.onResize()}},{key:"onResize",value:function(){if(instance.width=window.innerWidth,instance.height=window.innerHeight,instance.mode=instance.width>instance.height?"land":"port",instance.small&&instance.medium&&instance.large){var n=instance.width<instance.medium,i=instance.width<instance.large&&instance.width>=instance.medium,t=instance.width>instance.medium&&instance.width>=instance.large;n&&(instance.currentMedia="small"),i&&(instance.currentMedia="medium"),t&&(instance.currentMedia="large"),instance.funcs.length>0&&instance.invokeFunctions()}}},{key:"invokeFunctions",value:function(){var n=!0,i=!1,t=void 0;try{for(var e,s=this.funcs[Symbol.iterator]();!(n=(e=s.next()).done);n=!0){var a=e.value;this.currentMedia==a.size&&"function"==typeof window[a.funcName]&&("undefined"!=typeof a.orientation?a.orientation==this.mode&&window[a.funcName]():window[a.funcName]())}}catch(c){i=!0,t=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw t}}}},{key:"setSizes",value:function(n,i,t){this.small=n,this.medium=i,this.large=t;var e=instance.width<instance.medium,s=instance.width<instance.large&&instance.width>=instance.medium,a=instance.width>instance.medium&&instance.width>=instance.large;e&&(instance.currentMedia="small"),s&&(instance.currentMedia="medium"),a&&(instance.currentMedia="large")}},{key:"init",value:function(){switch(this.setSizes(380,960,1280),this.mode){case"port":this.portInit();break;case"land":this.landInit()}}},{key:"portInit",value:function portInit(){if("undefined"!=typeof this.initFuncs&&"undefined"!=typeof this.initFuncs.initPort){var initFunc=this.initFuncs.initPort;"function"==typeof window[initFunc]?window[initFunc]():eval(initFunc)}}},{key:"landInit",value:function landInit(){if("undefined"!=typeof this.initFuncs&&"undefined"!=typeof this.initFuncs.initLand){var initFunc=this.initFuncs.initLand;"function"==typeof window[initFunc]?window[initFunc]():eval(initFunc)}}}]),Init}();